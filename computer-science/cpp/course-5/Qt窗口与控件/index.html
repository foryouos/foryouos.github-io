<!-- build time: Sun Aug 06 2023 16:23:37 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><meta name="baidu-site-verification" content="codeva-yIAXMzOV6I"><meta name="referrer" content="never"><link rel="alternate" href="/rss.xml" title="瓶子的跋涉" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="瓶子的跋涉" type="application/atom+xml"><link rel="alternate" type="application/json" title="瓶子的跋涉" href="https://www.blog.foryouos.cn/feed.json"><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://unpkg.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.3.3"><script src="https://cdn.staticfile.org/vue/3.2.45/vue.global.prod.js"></script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><meta name="keywords" content="C++,Qt"><link rel="canonical" href="https://www.blog.foryouos.cn/computer-science/cpp/course-5/Qt%E7%AA%97%E5%8F%A3%E4%B8%8E%E6%8E%A7%E4%BB%B6/"><title>Qt窗口与控件</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Qt窗口与控件</h1><div class="meta"><span class="item" title="创建时间：2023-05-31 12:20:43"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2023-05-31T12:20:43+08:00">2023-05-31</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>29k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>27 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">foryouos</a></li></ul><ul class="right" id="rightNav"><li class="item theme" @click="changeThemeByBtn"><i class="ic" :class="{'i-sun': !themeStatus,'i-moon': themeStatus}"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><img src="https://i.imgtg.com/2023/05/31/OqAB4s.jpg"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="分类于计算机科学"><span itemprop="name">计算机科学<meta itemprop="position" content="0"></span></a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/cpp/" itemprop="item" rel="index" title="分类于C++"><span itemprop="name">C++<meta itemprop="position" content="1"></span></a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/cpp/course-5/" itemprop="item" rel="index" title="分类于Qt"><span itemprop="name">Qt<meta itemprop="position" content="2"></span></a></span><i class="ic i-angle-right"></i></div><article class="post block" itemscope itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.blog.foryouos.cn/computer-science/cpp/course-5/Qt%E7%AA%97%E5%8F%A3%E4%B8%8E%E6%8E%A7%E4%BB%B6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="YuHeShui"><meta itemprop="description" content="YuHeShui, 瓶子的跋涉 &amp; 编程笔记"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="瓶子的跋涉"></span><div class="body md" itemprop="articleBody"><h1 id="qwidget"><a class="anchor" href="#qwidget">#</a> QWidget</h1><blockquote><p><code>QWidget</code> 类是所有窗口类的 <code>父类</code> (控件类也属于 <code>窗口类</code> )，QWidget 类的父类的 QObject 也意味着所有窗口类对象只要指定了父对象，都可以实现 <code>内存资源的自动回收</code> 。</p></blockquote><h2 id="常见"><a class="anchor" href="#常见">#</a> 常见</h2><ul><li><p>QWidget</p></li><li><p>QDialog</p></li><li><p>QMessageBox 信息窗口</p></li><li><p>QFileFialog 选择文件</p></li><li><p>QFontDialog 设置文字</p></li><li><p>QColor 设置颜色</p></li><li><p>QInputDialog 设置对话框</p></li><li><p>QPrgressDialog 进度条</p></li><li><p>浮动窗口</p><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbtYgsTVWwwl3SRb8sVicV7ficSB58mdE2frUwgT1aAA6xhruyw8p5ukYe6XKiaLGXHr0dh8NNFzGHVZw/640?wx_fmt=png" alt="保存窗口类文件" title="保存窗口类文件"></p><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbtYgsTVWwwl3SRb8sVicV7ficSB58mdE2frUwgT1aAA6xhruyw8p5ukYe6XKiaLGXHr0dh8NNFzGHVZw/640?wx_fmt=png" alt="窗口类UI" title="窗口类UI"></p></li></ul><h2 id="代码实现-记忆"><a class="anchor" href="#代码实现-记忆">#</a> <code>代码</code> 实现 记忆</h2><h3 id="mainwindow"><a class="anchor" href="#mainwindow">#</a> <code>mainwindow</code></h3><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//mainwindow.cpp</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mainwindow.h"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMessageBox></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_mainwindow.h"</span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mydialog.h"</span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFileDialog></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFontDialog></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QColorDialog></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPainter></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QInputDialog></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QProgressDialog></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTimer></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>MainWindow<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token comment">// 设置窗口最大尺寸，不计算标题栏</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token comment">//setMaximumSize(600,600);</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">// 设置窗口最小尺寸</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token comment">//setMinimumSize(300,300);</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token comment">// 设置窗口固定尺寸</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token comment">//setFixedSize(300,300);</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token comment">// 设置窗口标题</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"QWidget"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token comment">// 给显示的窗口设置图标</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">"e:\\ico.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token comment">// 当用户修改图标之后，connect 对信号进行处理，title 是 window 改变之后，会传递的 titile</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>windowTitleChanged<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>title<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"新的标题"</span><span class="token operator">&lt;&lt;</span>title<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">// 当用户修改图标之后，connect 对信号进行处理，title 是 window 改变之后，会传递的 titile</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>windowIconChanged<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> QIcon <span class="token operator">&amp;</span>icon<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"图标被改变"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token comment">// 设置窗口右键菜单</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token comment">// 设置右键菜单策略</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token function">setContextMenuPolicy</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CustomContextMenu<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击了窗口之后，会发射一个信号，参数是 CustomContextMenu</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token comment">// 连接一下被点击之后的事件，参数为鼠标按下去的点</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>customContextMenuRequested<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> QPoint <span class="token operator">&amp;</span>pos<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>        <span class="token comment">// 创建菜单对象</span></pre></td></tr><tr><td data-num="47"></td><td><pre>        QMenu menu<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>        <span class="token comment">// 添加参加项</span></pre></td></tr><tr><td data-num="49"></td><td><pre>        menu<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"西红柿"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>        menu<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"黄瓜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        menu<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"茄子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token comment">// 显示菜单，以及显示菜单的位置，即用到上面传递的参数</span></pre></td></tr><tr><td data-num="53"></td><td><pre>        menu<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token class-name">QCursor</span><span class="token double-colon punctuation">::</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>    <span class="token comment">// 添加 connect 操作，当用户点击窗口之后，做出相关的操作</span></pre></td></tr><tr><td data-num="57"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>save_action<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="58"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>       <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"clicked"</span><span class="token punctuation">,</span><span class="token string">"你不要通过保存文件调戏我..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>open_action<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>       <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"clicked"</span><span class="token punctuation">,</span><span class="token string">"你不要通过打开文件调戏我..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>    <span class="token comment">// 给当前的工具栏添加按钮和单行的输入框</span></pre></td></tr><tr><td data-num="66"></td><td><pre>    <span class="token comment">// 添加输入框</span></pre></td></tr><tr><td data-num="67"></td><td><pre>    QLineEdit<span class="token operator">*</span> edit <span class="token operator">=</span> <span class="token keyword">new</span> QLineEdit<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>    edit<span class="token operator">-></span><span class="token function">setMaximumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置它的最大宽度</span></pre></td></tr><tr><td data-num="69"></td><td><pre>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>edit<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span><span class="token string">"搜索"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre>    <span class="token comment">// 添加第二个工具栏</span></pre></td></tr><tr><td data-num="73"></td><td><pre>    QToolBar<span class="token operator">*</span> toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QToolBar</span><span class="token punctuation">(</span><span class="token string">"toolbar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">addToolBar</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>LeftToolBarArea<span class="token punctuation">,</span>toolbar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>    <span class="token comment">// 状态栏添加子控件‘</span></pre></td></tr><tr><td data-num="76"></td><td><pre>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token string">"...........我是状态栏...."</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示 3 秒</span></pre></td></tr><tr><td data-num="77"></td><td><pre>    <span class="token comment">// 按钮</span></pre></td></tr><tr><td data-num="78"></td><td><pre>    QPushButton<span class="token operator">*</span> button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span><span class="token string">"按钮"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>    <span class="token comment">// 标签</span></pre></td></tr><tr><td data-num="81"></td><td><pre>    QLabel<span class="token operator">*</span> label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"hello word"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>    <span class="token comment">// 也可在状态栏显示对应的文本信息，会和上面的信息叠加，若放到上面会覆盖创建的</span></pre></td></tr><tr><td data-num="84"></td><td><pre>    <span class="token comment">//ui->statusBar->showMessage ("........... 我是状态栏....");</span></pre></td></tr><tr><td data-num="85"></td><td><pre>    <span class="token comment">// 根据时间让我是状态栏关闭，然后显示出按钮和 label</span></pre></td></tr><tr><td data-num="86"></td><td><pre>    <span class="token class-name">QTimer</span><span class="token double-colon punctuation">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//5 秒之后再显示出来</span></pre></td></tr><tr><td data-num="87"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>        button<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>        label<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre></pre></td></tr><tr><td data-num="94"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="98"></td><td><pre></pre></td></tr><tr><td data-num="99"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_moverButtion_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="100"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre></pre></td></tr><tr><td data-num="102"></td><td><pre>    <span class="token comment">// 得到左上角的坐标</span></pre></td></tr><tr><td data-num="103"></td><td><pre>    QRect rect <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">frameGeometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>    <span class="token comment">// 移动窗口，从当前的左上角左面，移动 x 右 10，y 下 20</span></pre></td></tr><tr><td data-num="105"></td><td><pre>    <span class="token function">move</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">topLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="107"></td><td><pre></pre></td></tr><tr><td data-num="108"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_positionButton_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="109"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>    <span class="token comment">// 获取当前窗体的位置信息</span></pre></td></tr><tr><td data-num="111"></td><td><pre>    QRect rect <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">frameGeometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span><span class="token string">"左上角"</span><span class="token operator">&lt;&lt;</span>rect<span class="token punctuation">.</span><span class="token function">topLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="113"></td><td><pre>             <span class="token operator">&lt;&lt;</span> <span class="token string">"右上角: "</span> <span class="token operator">&lt;&lt;</span> rect<span class="token punctuation">.</span><span class="token function">topRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="114"></td><td><pre>             <span class="token operator">&lt;&lt;</span> <span class="token string">"左下角: "</span> <span class="token operator">&lt;&lt;</span> rect<span class="token punctuation">.</span><span class="token function">bottomLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="115"></td><td><pre>             <span class="token operator">&lt;&lt;</span> <span class="token string">"右下角: "</span> <span class="token operator">&lt;&lt;</span> rect<span class="token punctuation">.</span><span class="token function">bottomRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="116"></td><td><pre>             <span class="token operator">&lt;&lt;</span> <span class="token string">"宽度: "</span> <span class="token operator">&lt;&lt;</span> rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="117"></td><td><pre>             <span class="token operator">&lt;&lt;</span> <span class="token string">"高度: "</span> <span class="token operator">&lt;&lt;</span> rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="118"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="119"></td><td><pre></pre></td></tr><tr><td data-num="120"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_geometryButton_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="121"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">500</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>    <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">500</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>    <span class="token keyword">int</span> width<span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>    <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>    <span class="token comment">// 设置当前窗口的位置以及长度和宽度</span></pre></td></tr><tr><td data-num="127"></td><td><pre>    <span class="token function">setGeometry</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="128"></td><td><pre></pre></td></tr><tr><td data-num="129"></td><td><pre></pre></td></tr><tr><td data-num="130"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="131"></td><td><pre></pre></td></tr><tr><td data-num="132"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_modifbtn_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="133"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>    <span class="token comment">// 修改图标</span></pre></td></tr><tr><td data-num="135"></td><td><pre>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"你好，世界"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>    <span class="token comment">// 修改图标</span></pre></td></tr><tr><td data-num="137"></td><td><pre>    <span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">"e:\\avatar.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="139"></td><td><pre><span class="token comment">// 点击窗体显示 mydialog 的模块对话框</span></pre></td></tr><tr><td data-num="140"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_modelDlg_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="141"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>    <span class="token comment">// 顶级对话框</span></pre></td></tr><tr><td data-num="143"></td><td><pre>    MyDialog dlg<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dlg<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyDialog<span class="token double-colon punctuation">::</span>finished<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> res<span class="token punctuation">)</span> <span class="token comment">//finish 会传递一个 int 值</span></pre></td></tr><tr><td data-num="145"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"result"</span><span class="token operator">&lt;&lt;</span>res<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="147"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dlg<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyDialog<span class="token double-colon punctuation">::</span>accepted<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//finish 会传递一个 int 值</span></pre></td></tr><tr><td data-num="149"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="150"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"accepted 信号被发射..."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="151"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="152"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dlg<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyDialog<span class="token double-colon punctuation">::</span>rejected<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//finish 会传递一个 int 值</span></pre></td></tr><tr><td data-num="153"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"rejected 信号被发射..."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="155"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="156"></td><td><pre>    <span class="token keyword">int</span> ret <span class="token operator">=</span> dlg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="157"></td><td><pre>    <span class="token comment">// 根据不同点击，传递的不同值</span></pre></td></tr><tr><td data-num="158"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>ret <span class="token operator">==</span> QDialog<span class="token double-colon punctuation">::</span>Accepted<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="159"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="160"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"accept button clicked ..."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="161"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="162"></td><td><pre>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> QDialog<span class="token double-colon punctuation">::</span>Rejected<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="163"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"reject button clicked ..."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="164"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="165"></td><td><pre>    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="166"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"done button clicked"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="167"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="168"></td><td><pre></pre></td></tr><tr><td data-num="169"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="170"></td><td><pre></pre></td></tr><tr><td data-num="171"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_msgbox_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="172"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="173"></td><td><pre>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"about"</span><span class="token punctuation">,</span>  <span class="token string">"这是一个简单的消息提示框!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="174"></td><td><pre>   <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"critical"</span><span class="token punctuation">,</span> <span class="token string">"这是一个错误对话框-critical..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="175"></td><td><pre>   <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">question</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"question"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="176"></td><td><pre>            <span class="token string">"你要保存修改的文件内容吗???"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="177"></td><td><pre>             QMessageBox<span class="token double-colon punctuation">::</span>Save<span class="token operator">|</span>QMessageBox<span class="token double-colon punctuation">::</span>Cancel<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="178"></td><td><pre>             QMessageBox<span class="token double-colon punctuation">::</span>Cancel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="179"></td><td><pre>   <span class="token keyword">if</span><span class="token punctuation">(</span>ret <span class="token operator">==</span> QMessageBox<span class="token double-colon punctuation">::</span>Save<span class="token punctuation">)</span>  <span class="token comment">// 根据不同的点击值，返回不同的值</span></pre></td></tr><tr><td data-num="180"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="181"></td><td><pre>       <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"information"</span><span class="token punctuation">,</span> <span class="token string">"恭喜你保存成功了, o(*￣︶￣*)o!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="182"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="183"></td><td><pre>   <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ret <span class="token operator">==</span> QMessageBox<span class="token double-colon punctuation">::</span>Cancel<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="184"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="185"></td><td><pre>       <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"warning"</span><span class="token punctuation">,</span> <span class="token string">"你放弃了保存, ┭┮﹏┭┮ !!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="186"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="187"></td><td><pre></pre></td></tr><tr><td data-num="188"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="189"></td><td><pre><span class="token comment">// 获取文件</span></pre></td></tr><tr><td data-num="190"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_QFiledialogbtn_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="191"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="192"></td><td><pre>    <span class="token comment">// 打开已经存在的目录，e:\\temp" 起始</span></pre></td></tr><tr><td data-num="193"></td><td><pre>    QString dirName <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getExistingDirectory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"打开目录"</span><span class="token punctuation">,</span> <span class="token string">"e:\\"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="194"></td><td><pre>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"打开目录"</span><span class="token punctuation">,</span> <span class="token string">"您选择的目录是: "</span> <span class="token operator">+</span> dirName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="195"></td><td><pre></pre></td></tr><tr><td data-num="196"></td><td><pre>    <span class="token comment">// 打开 txt 文件</span></pre></td></tr><tr><td data-num="197"></td><td><pre><span class="token comment">//    QString arg("Text files (*.txt)");</span></pre></td></tr><tr><td data-num="198"></td><td><pre><span class="token comment">//    QString fileName = QFileDialog::getOpenFileName(</span></pre></td></tr><tr><td data-num="199"></td><td><pre><span class="token comment">//             this, "Open File", "e:\\temp",</span></pre></td></tr><tr><td data-num="200"></td><td><pre><span class="token comment">//             "Images (*.png *.jpg);;Text files (*.txt)", &amp;arg);</span></pre></td></tr><tr><td data-num="201"></td><td><pre><span class="token comment">//    QMessageBox::information (this, "打开文件", "您选择的文件是:" + fileName);</span></pre></td></tr><tr><td data-num="202"></td><td><pre></pre></td></tr><tr><td data-num="203"></td><td><pre>    <span class="token comment">// 打开多个本地文件</span></pre></td></tr><tr><td data-num="204"></td><td><pre><span class="token comment">//    QStringList fileNames = QFileDialog::getOpenFileNames(</span></pre></td></tr><tr><td data-num="205"></td><td><pre><span class="token comment">//                 this, "Open File", "e:\\temp",</span></pre></td></tr><tr><td data-num="206"></td><td><pre><span class="token comment">//                 "Images (*.png *.jpg);;Text files (*.txt)");</span></pre></td></tr><tr><td data-num="207"></td><td><pre><span class="token comment">//    QString names;</span></pre></td></tr><tr><td data-num="208"></td><td><pre><span class="token comment">//    for(int i=0; i&lt;fileNames.size(); ++i)</span></pre></td></tr><tr><td data-num="209"></td><td><pre><span class="token comment">//    &#123;</span></pre></td></tr><tr><td data-num="210"></td><td><pre><span class="token comment">//        names += fileNames.at(i) + " ";</span></pre></td></tr><tr><td data-num="211"></td><td><pre><span class="token comment">//    &#125;</span></pre></td></tr><tr><td data-num="212"></td><td><pre><span class="token comment">//    QMessageBox::information (this, "打开文件 (s)", "您选择的文件是:" + names);</span></pre></td></tr><tr><td data-num="213"></td><td><pre></pre></td></tr><tr><td data-num="214"></td><td><pre>    <span class="token comment">// 打开保存文件对话框，将文件报错到选中的文件中</span></pre></td></tr><tr><td data-num="215"></td><td><pre>    <span class="token comment">//QString fileName = QFileDialog::getSaveFileName (this, "保存文件", "e:\\temp");</span></pre></td></tr><tr><td data-num="216"></td><td><pre>    <span class="token comment">//QMessageBox::information (this, "保存文件", "您指定的保存数据的文件是:" + fileName);</span></pre></td></tr><tr><td data-num="217"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="218"></td><td><pre></pre></td></tr><tr><td data-num="219"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_fontdlg_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="220"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="221"></td><td><pre>    <span class="token comment">// 弹出字体对话框</span></pre></td></tr><tr><td data-num="222"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">1</span></span></span></pre></td></tr><tr><td data-num="223"></td><td><pre>    <span class="token comment">// 方式 1</span></pre></td></tr><tr><td data-num="224"></td><td><pre>    <span class="token keyword">bool</span> ok<span class="token punctuation">;</span> <span class="token comment">// 变量传参， //ok 为返回值，修改后，为 True</span></pre></td></tr><tr><td data-num="225"></td><td><pre>    <span class="token comment">// 初始化字体，默认字体，我们可以自己修改</span></pre></td></tr><tr><td data-num="226"></td><td><pre>    <span class="token comment">//this 父对象</span></pre></td></tr><tr><td data-num="227"></td><td><pre>    <span class="token comment">//</span></pre></td></tr><tr><td data-num="228"></td><td><pre>    QFont ft <span class="token operator">=</span> <span class="token class-name">QFontDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getFont</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="229"></td><td><pre>                <span class="token operator">&amp;</span>ok<span class="token punctuation">,</span> <span class="token function">QFont</span><span class="token punctuation">(</span><span class="token string">"微软雅黑"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> QFont<span class="token double-colon punctuation">::</span>Bold<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"选择字体"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="230"></td><td><pre>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"ok value is: "</span> <span class="token operator">&lt;&lt;</span> ok<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="231"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span></pre></td></tr><tr><td data-num="232"></td><td><pre>    <span class="token comment">// 方式 2</span></pre></td></tr><tr><td data-num="233"></td><td><pre>    QFont ft <span class="token operator">=</span> <span class="token class-name">QFontDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="234"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr><tr><td data-num="235"></td><td><pre>    <span class="token comment">// 将选择的字体设置给当前窗口对象</span></pre></td></tr><tr><td data-num="236"></td><td><pre>    <span class="token comment">// 将 设置的字体应用到选定的 ui 对象上</span></pre></td></tr><tr><td data-num="237"></td><td><pre>    ui<span class="token operator">-></span>fontlabel<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="238"></td><td><pre>    <span class="token comment">// 设置全局</span></pre></td></tr><tr><td data-num="239"></td><td><pre>    <span class="token comment">//this->setFont(ft);</span></pre></td></tr><tr><td data-num="240"></td><td><pre></pre></td></tr><tr><td data-num="241"></td><td><pre></pre></td></tr><tr><td data-num="242"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="243"></td><td><pre><span class="token comment">// 设置当颜色点击后</span></pre></td></tr><tr><td data-num="244"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_colordlg_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="245"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="246"></td><td><pre>    <span class="token comment">// 调用 QColor 的静态函数，参数有默认值</span></pre></td></tr><tr><td data-num="247"></td><td><pre>   QColor color <span class="token operator">=</span> <span class="token class-name">QColorDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="248"></td><td><pre>   <span class="token comment">//Qt 绘图操作</span></pre></td></tr><tr><td data-num="249"></td><td><pre>   QBrush <span class="token function">brush</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="250"></td><td><pre>   QRect <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> ui<span class="token operator">-></span>color<span class="token operator">-></span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ui<span class="token operator">-></span>color<span class="token operator">-></span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="251"></td><td><pre>   QPixmap <span class="token function">pix</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="252"></td><td><pre>   QPainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="253"></td><td><pre>   p<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> brush<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="254"></td><td><pre>   ui<span class="token operator">-></span>color<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="255"></td><td><pre>   QString text <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"red: %1, green: %2, blue: %3, 透明度: %4"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="256"></td><td><pre>           <span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">alpha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="257"></td><td><pre>   ui<span class="token operator">-></span>colorlabel<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="258"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="259"></td><td><pre><span class="token comment">// 点击进入输入框</span></pre></td></tr><tr><td data-num="260"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_inputdlg_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="261"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="262"></td><td><pre>    <span class="token comment">//getInt</span></pre></td></tr><tr><td data-num="263"></td><td><pre>    <span class="token comment">// 年龄标题</span></pre></td></tr><tr><td data-num="264"></td><td><pre>    <span class="token comment">// 你的当前年龄：窗口信息</span></pre></td></tr><tr><td data-num="265"></td><td><pre>    <span class="token comment">//10 为默认整形数</span></pre></td></tr><tr><td data-num="266"></td><td><pre>    <span class="token comment">//1 为最小值，100 为最大值，2 为步长</span></pre></td></tr><tr><td data-num="267"></td><td><pre><span class="token comment">//    int ret = QInputDialog::getInt (this, "年龄", "您的当前年龄:", 10, 1, 100, 2);</span></pre></td></tr><tr><td data-num="268"></td><td><pre><span class="token comment">//    QMessageBox::information (this, "年龄", "您的当前年龄:" + QString::number (ret));</span></pre></td></tr><tr><td data-num="269"></td><td><pre>    <span class="token comment">//getDouble 2 为精度，还有个步长的重载</span></pre></td></tr><tr><td data-num="270"></td><td><pre><span class="token comment">//    double ret = QInputDialog::getDouble (this, "工资", "您的工资:", 2000, 1000, 6000, 2);</span></pre></td></tr><tr><td data-num="271"></td><td><pre><span class="token comment">//    QMessageBox::information (this, "工资", "您的当前工资:" + QString::number (ret));</span></pre></td></tr><tr><td data-num="272"></td><td><pre>    <span class="token comment">//getItem</span></pre></td></tr><tr><td data-num="273"></td><td><pre><span class="token comment">//    QStringList items; // 字符串列表，动态 字符串数组</span></pre></td></tr><tr><td data-num="274"></td><td><pre><span class="token comment">//    items &lt;&lt; "苹果" &lt;&lt; "橙子" &lt;&lt; "橘子" &lt;&lt; "葡萄" &lt;&lt; "香蕉" &lt;&lt; "哈密瓜";</span></pre></td></tr><tr><td data-num="275"></td><td><pre><span class="token comment">//    //items 指定下拉选择框，1 默认选择第一个 (QStringList 以 0 开始)，false 为数据不可修改，true 数据可以修改</span></pre></td></tr><tr><td data-num="276"></td><td><pre><span class="token comment">//    QString item = QInputDialog::getItem (this, "请选择你喜欢的水果", "你最喜欢的水果:", items, 1, false);</span></pre></td></tr><tr><td data-num="277"></td><td><pre><span class="token comment">//    QMessageBox::information (this, "水果", "您最喜欢的水果是:" + item);</span></pre></td></tr><tr><td data-num="278"></td><td><pre></pre></td></tr><tr><td data-num="279"></td><td><pre>    <span class="token comment">//password 以密码的形式输入时显示小圆点</span></pre></td></tr><tr><td data-num="280"></td><td><pre><span class="token comment">//    QString text = QInputDialog::getText (this,"密码","请输入密码",QLineEdit::Password,"helloword");</span></pre></td></tr><tr><td data-num="281"></td><td><pre><span class="token comment">//    QMessageBox::information (this, "密码", "您输入的密码是:" + text);</span></pre></td></tr><tr><td data-num="282"></td><td><pre>    <span class="token comment">// 输入多行信息</span></pre></td></tr><tr><td data-num="283"></td><td><pre>    QString info <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getMultiLineText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"表白"</span><span class="token punctuation">,</span> <span class="token string">"您最想对漂亮小姐姐说什么呢?"</span><span class="token punctuation">,</span> <span class="token string">"呦吼吼..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="284"></td><td><pre>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"知心姐姐"</span><span class="token punctuation">,</span> <span class="token string">"您最想对小姐姐说: "</span> <span class="token operator">+</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="285"></td><td><pre></pre></td></tr><tr><td data-num="286"></td><td><pre></pre></td></tr><tr><td data-num="287"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="288"></td><td><pre><span class="token comment">// 设置进度条</span></pre></td></tr><tr><td data-num="289"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_processdlg_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="290"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="291"></td><td><pre>    <span class="token comment">//1, 创建进度条的对话框窗口对象</span></pre></td></tr><tr><td data-num="292"></td><td><pre>    <span class="token comment">//this 当前窗口的父对象初始化和现实窗口</span></pre></td></tr><tr><td data-num="293"></td><td><pre>    QProgressDialog<span class="token operator">*</span> progress <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QProgressDialog</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="294"></td><td><pre>                <span class="token string">"正在拷贝数据...."</span><span class="token punctuation">,</span><span class="token string">"取消拷贝"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="295"></td><td><pre>    <span class="token comment">//2, 初始化并显示进度条窗口</span></pre></td></tr><tr><td data-num="296"></td><td><pre>    progress<span class="token operator">-></span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"请稍后..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="297"></td><td><pre>    <span class="token comment">// 设置模态显示，在显示进度条时，是否可以点击主窗口</span></pre></td></tr><tr><td data-num="298"></td><td><pre>    <span class="token comment">// 在显示进度条窗口时，不可以控制主窗口</span></pre></td></tr><tr><td data-num="299"></td><td><pre>    progress<span class="token operator">-></span><span class="token function">setWindowModality</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WindowModal<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="300"></td><td><pre></pre></td></tr><tr><td data-num="301"></td><td><pre>    <span class="token comment">//3，展示当前窗口</span></pre></td></tr><tr><td data-num="302"></td><td><pre>    progress<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="303"></td><td><pre>    <span class="token comment">//4，更新进度条</span></pre></td></tr><tr><td data-num="304"></td><td><pre>    QTimer<span class="token operator">*</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTimer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="305"></td><td><pre></pre></td></tr><tr><td data-num="306"></td><td><pre>    <span class="token keyword">static</span> <span class="token keyword">int</span> value <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="307"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>timer<span class="token punctuation">,</span><span class="token operator">&amp;</span>QTimer<span class="token double-colon punctuation">::</span>timeout<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="308"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="309"></td><td><pre>        progress<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="310"></td><td><pre>        value<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="311"></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">></span> progress<span class="token operator">-></span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="312"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="313"></td><td><pre>            timer<span class="token operator">-></span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="314"></td><td><pre>            value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="315"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="316"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="317"></td><td><pre>    <span class="token comment">// 当进度条点击取消之后，取消时间进程以及进度条</span></pre></td></tr><tr><td data-num="318"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>progress<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QProgressDialog<span class="token double-colon punctuation">::</span>canceled<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="319"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="320"></td><td><pre>        timer<span class="token operator">-></span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="321"></td><td><pre>        value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="322"></td><td><pre>        <span class="token keyword">delete</span> progress<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="323"></td><td><pre>        <span class="token keyword">delete</span> timer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="324"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="325"></td><td><pre>    timer<span class="token operator">-></span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="326"></td><td><pre>    <span class="token comment">// 进度条每隔 50 毫秒更新一次</span></pre></td></tr><tr><td data-num="327"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="mydialog"><a class="anchor" href="#mydialog">#</a> <code>mydialog</code></h3><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbtYgsTVWwwl3SRb8sVicV7ficpejCzfy6TyuKflNHYp3v8BA2aWR1NBE3ub2neFzDWKVw9F4ictBGnmw/640?wx_fmt=png" alt="mydialogUI"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mydialog.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_mydialog.h"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">MyDialog</span><span class="token double-colon punctuation">::</span><span class="token function">MyDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">QDialog</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>MyDialog<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token class-name">MyDialog</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">MyDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MyDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_AcceptBtn_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">// 解除当前模态对话框的阻塞，隐藏当前窗口</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MyDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_RejectBtn_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>     <span class="token comment">// 解除当前模态对话框的阻塞，隐藏当前窗口</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MyDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_DoneBtn_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token comment">// 关闭窗口，其值可以指定</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 此值为 finished 的返回值，一一对应</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="控件"><a class="anchor" href="#控件">#</a> 控件</h2><blockquote><p>控件仅需记住类名，查询帮助文档即可，优先看帮助文档中控件对应的信号槽，其次公共成员函数</p></blockquote><h3 id="按钮"><a class="anchor" href="#按钮">#</a> 按钮</h3><ul><li>QPushButton - 普通按钮</li><li>QToolButton - 普通按钮</li><li>QRadioButton - <code>单选</code> 按钮（一般成组使用)</li><li>QCheckBox -- 带 <code>复选框</code> 的按钮</li></ul><h3 id="练习学习"><a class="anchor" href="#练习学习">#</a> <code>练习学习</code></h3><h4 id="ui"><a class="anchor" href="#ui">#</a> <code>UI</code></h4><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbtYgsTVWwwl3SRb8sVicV7ficsum17aWr8icZnXfYXibnSnjGkaLO71LUSbcjlKoar2HWZYlWCeCyLOIw/640?wx_fmt=png" alt="控件学习UI" title="控件学习UI"></p><h4 id="mainwindowh"><a class="anchor" href="#mainwindowh">#</a> <code>mainwindow.h</code></h4><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">MAINWINDOW_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAINWINDOW_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MainWindow</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    Q_OBJECT</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">explicit</span> <span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">private</span> slots<span class="token operator">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_radioButton_13_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_radioButton_11_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_radioButton_12_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_radioButton_10_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_checkBox_14_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_checkBox_5_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_checkBox_6_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">on_checkBox_7_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token comment">// 添加槽函数，处理复选框按钮状态变化</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">statusChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    Ui<span class="token double-colon punctuation">::</span>MainWindow <span class="token operator">*</span>ui<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token keyword">int</span> m_number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// 添加一个计数器，记录有几个子节点被选中了</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// MAINWINDOW_H</span></span></pre></td></tr></table></figure><h4 id="mainwindowcpp"><a class="anchor" href="#mainwindowcpp">#</a> <code>mainwindow.cpp</code></h4><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mainwindow.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_mainwindow.h"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>MainWindow<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 普通按钮没有 checked 属性</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    ui<span class="token operator">-></span>normalBtn<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"我是屌丝!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">// 图片路径</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    ui<span class="token operator">-></span>normalBtn<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/avatar.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    ui<span class="token operator">-></span>normalBtn<span class="token operator">-></span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>normalBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>QPushButton<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"我是一个屌丝!!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">// 有 check 属性的按钮 (默认是没有 check 属性的</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    ui<span class="token operator">-></span>checkbtn<span class="token operator">-></span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token comment">// 当按钮被选中之后</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>checkbtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>QPushButton<span class="token double-colon punctuation">::</span>toggled<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">bool</span> bl<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"我是被选中的 屌丝！！当前的状态:"</span><span class="token operator">&lt;&lt;</span>bl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token comment">// 让当前按钮与菜单关联</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    ui<span class="token operator">-></span>menuBtn<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"你喜欢那种女孩?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    QMenu<span class="token operator">*</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> QMenu<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    QAction<span class="token operator">*</span> act <span class="token operator">=</span> menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"可爱的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"粘人的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"年轻的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token comment">// 点击当前按钮会生成下拉菜单</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    ui<span class="token operator">-></span>menuBtn<span class="token operator">-></span><span class="token function">setMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>act<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"选中可爱的"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    QAction<span class="token operator">*</span> actBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/avatar.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"奥利给"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    ui<span class="token operator">-></span>actBtn<span class="token operator">-></span><span class="token function">setDefaultAction</span><span class="token punctuation">(</span>actBtn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//action 和当前的 actbtn 关联到一起</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>QToolButton<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span>QAction<span class="token operator">*</span> act<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        act<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"我是修改后的..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>        act<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/avatar.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    ui<span class="token operator">-></span>actBtn<span class="token operator">-></span><span class="token function">setToolButtonStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ToolButtonTextUnderIcon<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 文本信息显示到图标的下面</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token comment">// 在按钮上绘制指向某个方向上的箭头</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token comment">// 设置箭头的方向</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    ui<span class="token operator">-></span>arrowbtn<span class="token operator">-></span><span class="token function">setArrowType</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>UpArrow<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token comment">// 设置显示的文本信息 (QToolButton 默认是不显示文本信息的)</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    ui<span class="token operator">-></span>arrowbtn<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"向上"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token comment">// 让其显示文本信息</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    ui<span class="token operator">-></span>arrowbtn<span class="token operator">-></span><span class="token function">setToolButtonStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ToolButtonTextUnderIcon<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token comment">// 对 popemenu 的相关操作</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token comment">// 默认延时显示 (长点击一会)</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    ui<span class="token operator">-></span>popmenu<span class="token operator">-></span><span class="token function">setMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将上面的 menu 与 popmenu 进行关联</span></pre></td></tr><tr><td data-num="57"></td><td><pre>    <span class="token comment">/*</span></pre></td></tr><tr><td data-num="58"></td><td><pre>    弹出菜单的弹出模式是一个枚举类型: QToolButton::ToolButtonPopupMode, 取值如下:</pre></td></tr><tr><td data-num="59"></td><td><pre>      - QToolButton::DelayedPopup:</pre></td></tr><tr><td data-num="60"></td><td><pre>          - 延时弹出，按压工具按钮一段时间后才能弹出，比如：浏览器的返回按钮</pre></td></tr><tr><td data-num="61"></td><td><pre>          - 长按按钮菜单弹出，但是按钮的 clicked 信号不会被发射</pre></td></tr><tr><td data-num="62"></td><td><pre>      - QToolButton::MenuButtonPopup:</pre></td></tr><tr><td data-num="63"></td><td><pre>          - 在这种模式下，工具按钮会显示一个特殊的箭头，表示有菜单。(菜单会单独显示)</pre></td></tr><tr><td data-num="64"></td><td><pre>      - 当按下按钮的箭头部分时，将显示菜单。按下按钮部分发射 clicked 信号</pre></td></tr><tr><td data-num="65"></td><td><pre>      - QToolButton::InstantPopup:</pre></td></tr><tr><td data-num="66"></td><td><pre>          - 当按下工具按钮时，菜单立即显示出来。</pre></td></tr><tr><td data-num="67"></td><td><pre>          - 在这种模式下，按钮本身的动作不会被触发 (不会发射 clicked 信号</pre></td></tr><tr><td data-num="68"></td><td><pre>    */</pre></td></tr><tr><td data-num="69"></td><td><pre>    <span class="token comment">// 设置显示模式</span></pre></td></tr><tr><td data-num="70"></td><td><pre>    ui<span class="token operator">-></span>popmenu<span class="token operator">-></span><span class="token function">setPopupMode</span><span class="token punctuation">(</span>QToolButton<span class="token double-colon punctuation">::</span>DelayedPopup<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 延时弹出</span></pre></td></tr><tr><td data-num="71"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>popmenu<span class="token punctuation">,</span><span class="token operator">&amp;</span>QToolButton<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="72"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"我是popMenu按钮，好痒..."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre></pre></td></tr><tr><td data-num="76"></td><td><pre>    <span class="token comment">// 设置默认喜欢 C++ 为选中</span></pre></td></tr><tr><td data-num="77"></td><td><pre>    ui<span class="token operator">-></span>radioButton_9<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre></pre></td></tr><tr><td data-num="79"></td><td><pre>    <span class="token comment">// 设置复选框操作</span></pre></td></tr><tr><td data-num="80"></td><td><pre>    <span class="token comment">// 设置根节点的三态属性</span></pre></td></tr><tr><td data-num="81"></td><td><pre>       ui<span class="token operator">-></span>wives<span class="token operator">-></span><span class="token function">setTristate</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>       <span class="token comment">// 处理根节点的鼠标点击事件</span></pre></td></tr><tr><td data-num="83"></td><td><pre>       <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>wives<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QCheckBox<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">bool</span> bl<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="84"></td><td><pre>       <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>           <span class="token keyword">if</span><span class="token punctuation">(</span>bl<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="86"></td><td><pre>           <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>               <span class="token comment">// 子节点全部设置为选中状态</span></pre></td></tr><tr><td data-num="88"></td><td><pre></pre></td></tr><tr><td data-num="89"></td><td><pre>               ui<span class="token operator">-></span>fangyi<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>               ui<span class="token operator">-></span>longer<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre></pre></td></tr><tr><td data-num="92"></td><td><pre>               ui<span class="token operator">-></span>mujianping<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre></pre></td></tr><tr><td data-num="94"></td><td><pre>               ui<span class="token operator">-></span>ake<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>           <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>           <span class="token keyword">else</span></pre></td></tr><tr><td data-num="97"></td><td><pre>           <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>               <span class="token comment">// 子节点全部设置为非选中状态</span></pre></td></tr><tr><td data-num="99"></td><td><pre></pre></td></tr><tr><td data-num="100"></td><td><pre>               ui<span class="token operator">-></span>fangyi<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>               ui<span class="token operator">-></span>longer<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre></pre></td></tr><tr><td data-num="103"></td><td><pre>               ui<span class="token operator">-></span>mujianping<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre></pre></td></tr><tr><td data-num="105"></td><td><pre>               ui<span class="token operator">-></span>ake<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>           <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>       <span class="token comment">// 处理子节点的状态变化，对应的槽函数相同</span></pre></td></tr><tr><td data-num="109"></td><td><pre>      <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>fangyi<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QCheckBox<span class="token double-colon punctuation">::</span>stateChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>statusChanged<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>      <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>longer<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QCheckBox<span class="token double-colon punctuation">::</span>stateChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>statusChanged<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>      <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>mujianping<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QCheckBox<span class="token double-colon punctuation">::</span>stateChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>statusChanged<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>      <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>ake<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QCheckBox<span class="token double-colon punctuation">::</span>stateChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>MainWindow<span class="token double-colon punctuation">::</span>statusChanged<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="114"></td><td><pre></pre></td></tr><tr><td data-num="115"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="116"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="117"></td><td><pre>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="118"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="119"></td><td><pre></pre></td></tr><tr><td data-num="120"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_radioButton_13_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="121"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>     <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"C++"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="124"></td><td><pre></pre></td></tr><tr><td data-num="125"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_radioButton_11_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="126"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"GO"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="128"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="129"></td><td><pre></pre></td></tr><tr><td data-num="130"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_radioButton_12_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="131"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Python"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="134"></td><td><pre></pre></td></tr><tr><td data-num="135"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_radioButton_10_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="136"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Java"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="139"></td><td><pre></pre></td></tr><tr><td data-num="140"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_checkBox_14_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="141"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>arg1<span class="token operator">==</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="143"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>        <span class="token comment">//</span></pre></td></tr><tr><td data-num="145"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"C++"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="147"></td><td><pre>    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"取消C++"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="149"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="150"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="151"></td><td><pre></pre></td></tr><tr><td data-num="152"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_checkBox_5_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="153"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>arg1<span class="token operator">==</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="155"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="156"></td><td><pre>        <span class="token comment">//</span></pre></td></tr><tr><td data-num="157"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"Go"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="158"></td><td><pre></pre></td></tr><tr><td data-num="159"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="160"></td><td><pre>    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="161"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"取消Go"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="162"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="163"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="164"></td><td><pre></pre></td></tr><tr><td data-num="165"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_checkBox_6_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="166"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="167"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>arg1<span class="token operator">==</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="168"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="169"></td><td><pre>        <span class="token comment">//</span></pre></td></tr><tr><td data-num="170"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"Python"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="171"></td><td><pre></pre></td></tr><tr><td data-num="172"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="173"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="174"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"取消Python"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="175"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="176"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="177"></td><td><pre></pre></td></tr><tr><td data-num="178"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_checkBox_7_stateChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="179"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="180"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>arg1<span class="token operator">==</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="181"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="182"></td><td><pre>        <span class="token comment">//</span></pre></td></tr><tr><td data-num="183"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"Java"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="184"></td><td><pre></pre></td></tr><tr><td data-num="185"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="186"></td><td><pre>    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="187"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"取消Java"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="188"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="189"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="190"></td><td><pre></pre></td></tr><tr><td data-num="191"></td><td><pre><span class="token comment">// 槽函数</span></pre></td></tr><tr><td data-num="192"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">statusChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> state<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="193"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="194"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="195"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="196"></td><td><pre>        m_number <span class="token operator">++</span><span class="token punctuation">;</span>	<span class="token comment">// 选中一个子节点，计数器加 1</span></pre></td></tr><tr><td data-num="197"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="198"></td><td><pre>    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="199"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="200"></td><td><pre>        m_number <span class="token operator">--</span><span class="token punctuation">;</span>   <span class="token comment">// 取消选中一个子节点，计数器减 1</span></pre></td></tr><tr><td data-num="201"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="202"></td><td><pre></pre></td></tr><tr><td data-num="203"></td><td><pre>    <span class="token comment">// 根据计数器值判断根节点是否需要做状态的更新</span></pre></td></tr><tr><td data-num="204"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>m_number <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="205"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="206"></td><td><pre>        ui<span class="token operator">-></span>wives<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="207"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="208"></td><td><pre>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>m_number <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="209"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="210"></td><td><pre>        ui<span class="token operator">-></span>wives<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="211"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="212"></td><td><pre>    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="213"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="214"></td><td><pre>        ui<span class="token operator">-></span>wives<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>PartiallyChecked<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="215"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="216"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="补充"><a class="anchor" href="#补充">#</a> 补充</h1><h2 id="使用函数指针调用函数重载"><a class="anchor" href="#使用函数指针调用函数重载">#</a> 使用函数指针调用函数重载</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 使用函数指针 () 代表参数个数 pt 为调用函数后的函数名称</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>pt<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> print<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>再使用 pt进行使用，就是调用的print</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">pt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="代码实现窗口"><a class="anchor" href="#代码实现窗口">#</a> 代码实现窗口</h2><ul><li>菜单栏</li><li>工具栏</li><li>状态栏 (最下面)</li><li>浮动窗口</li><li>中心</li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mainwindow.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMenuBar></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QToolBar></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QStatusBar></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDockWidget></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTextEdit></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment">//MenuBa 创建菜单栏</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    QMenuBar <span class="token operator">*</span>menubar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMenuBar</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token function">setMenuBar</span><span class="token punctuation">(</span>menubar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置菜单栏</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">//"文件 (&amp;F)"  &amp;F 代表快捷键</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    QMenu <span class="token operator">*</span>filename <span class="token operator">=</span> menubar<span class="token operator">-></span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">"文件(&amp;F)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 菜单栏上添加菜单</pre></td></tr><tr><td data-num="20"></td><td><pre>    QMenu <span class="token operator">*</span>editmenu <span class="token operator">=</span> menubar<span class="token operator">-></span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">"编辑(&amp;E)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    QMenu <span class="token operator">*</span>buildname <span class="token operator">=</span> menubar<span class="token operator">-></span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">"构建(&amp;B)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    filename<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"新建文件(&amp;N)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    filename<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"打开文件(&amp;O)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    filename<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 添加分隔符</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    filename<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"关闭文件(&amp;C)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>    editmenu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"恢复(&amp;U)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在编辑下再创建菜单</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    buildname<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"构建所有项目(&amp;R)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token comment">//ToolBar 工具栏</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    QToolBar <span class="token operator">*</span>toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QToolBar</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token function">addToolBar</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>TopToolBarArea<span class="token punctuation">,</span> toolbar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置 toolbar 在窗口的顶部可上下左右四个位置可选</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>    toolbar<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"新建"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    toolbar<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"打开"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    toolbar<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    toolbar<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"关闭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token comment">//StatusBar 状态栏，只能在下边</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    QStatusBar <span class="token operator">*</span>stbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStatusBar</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token function">setStatusBar</span><span class="token punctuation">(</span>stbar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    QLabel <span class="token operator">*</span>label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    label<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"状态栏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    stbar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 状态栏添加此 label</span></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token comment">//DockWidget 浮动窗口</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    QDockWidget <span class="token operator">*</span>dockwidget <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QDockWidget</span><span class="token punctuation">(</span><span class="token string">"小窗口"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token function">addDockWidget</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>LeftDockWidgetArea<span class="token punctuation">,</span> dockwidget<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加在窗口左面</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token comment">//Central Widget 中间核心区，</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    QTextEdit <span class="token operator">*</span>edit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token function">setCentralWidget</span><span class="token punctuation">(</span>edit<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="窗口添加icon"><a class="anchor" href="#窗口添加icon">#</a> 窗口添加 ICON</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//ui->actionNew->setIcon(QIcon("C:/Qt/images/new.png"));</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 添加 Qt 资源文件使用格式   ": + 前缀 + 文件名"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>ui<span class="token operator">-></span>actionNew<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/Image/images/new.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//ui->actionOpen->setIcon(QIcon("C:/Qt/images/open.png"));</span></pre></td></tr><tr><td data-num="5"></td><td><pre>ui<span class="token operator">-></span>actionOpen<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/Image/images/open.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="模态与释放空间"><a class="anchor" href="#模态与释放空间">#</a> 模态与释放空间</h2><blockquote><p>模态 (必须关闭显示的窗口，才可操作其它窗口)<br>非模态 (显示窗口后，仍然可以操作其它窗口)<br>关闭窗口，释放本窗口内存空间： <code>dialog-&gt;setAttribute(Qt::WA_DeleteOnClose);</code><br><code>QCoreApplication::processEvents();</code> 内核区去检查有没有其他事情要做</p></blockquote><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>QDialog <span class="token operator">*</span>dialog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>dialog<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//dialog->show ();       // 非模态对话框</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//dialog->exec ();           // 模态对话框 方式 1</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>dialog<span class="token operator">-></span><span class="token function">setModal</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 模态对话框 方式 2</span></pre></td></tr><tr><td data-num="9"></td><td><pre>dialog<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 关闭此窗口对应空间会被释放掉</span></pre></td></tr><tr><td data-num="11"></td><td><pre>dialog<span class="token operator">-></span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WA_DeleteOnClose<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="错误对话框"><a class="anchor" href="#错误对话框">#</a> 错误对话框</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	QErrorMessage <span class="token operator">*</span>errordlg<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 函数实现</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 点击之后显示错误对话框</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_pushButton_7_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">//    QErrorMessage *errordlg = new QErrorMessage(this);</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    errordlg<span class="token operator">-></span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"错误"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    errordlg<span class="token operator">-></span><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token string">"危险"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="向导对话框"><a class="anchor" href="#向导对话框">#</a> 向导对话框</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>QWizardPage <span class="token operator">*</span><span class="token function">createPage1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    QWizardPage <span class="token operator">*</span>page <span class="token operator">=</span> <span class="token keyword">new</span> QWizardPage<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    page<span class="token operator">-></span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"第一步操作"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> page<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>QWizardPage <span class="token operator">*</span><span class="token function">createPage2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    QWizardPage <span class="token operator">*</span>page <span class="token operator">=</span> <span class="token keyword">new</span> QWizardPage<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    page<span class="token operator">-></span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"第二步操作"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">return</span> page<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_pushButton_8_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    QWizard <span class="token function">wizard</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    wizard<span class="token punctuation">.</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"向导对话框"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    wizard<span class="token punctuation">.</span><span class="token function">addPage</span><span class="token punctuation">(</span><span class="token function">createPage1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建两个向导页面</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    wizard<span class="token punctuation">.</span><span class="token function">addPage</span><span class="token punctuation">(</span><span class="token function">createPage2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="21"></td><td><pre>    wizard<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="控件-2"><a class="anchor" href="#控件-2">#</a> 控件</h1><h2 id="item"><a class="anchor" href="#item">#</a> Item</h2><blockquote><p><code>Item view</code> 在处理 <code>大量数据</code> 时 (数据库操作时) <code>性能</code> 要 <code>大</code> 于 <code>Item widgets</code></p></blockquote><h3 id="list-widget"><a class="anchor" href="#list-widget">#</a> list Widget</h3><blockquote><p>列表</p></blockquote><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbsMW39IOCFlyaIVRyBjA9Z0Uh4xdyqVAu04SxUejib5vtZgWGJqib8s5kWokgIZruYa8ib82MskX43yA/640?wx_fmt=png" alt="List UI" title="List ui"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//list 列表</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 添加 item</span></pre></td></tr><tr><td data-num="3"></td><td><pre>ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Good morning"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>QListWidgetItem <span class="token operator">*</span>listitem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QListWidgetItem</span><span class="token punctuation">(</span><span class="token string">"I love you, Rick!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>listitem<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>listitem<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中间居中</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>QStringList list2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//list&lt;&lt;str; // 通过操作运算符 & lt;&lt; 将一个 QString 字符串存储到该列表中</span></pre></td></tr><tr><td data-num="12"></td><td><pre>list2 <span class="token operator">&lt;&lt;</span> <span class="token string">"ABCD"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"EFGH"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"IJKL"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"LMNO"</span><span class="token punctuation">;</span> <span class="token comment">// 通过重载将数据加入到 list2 中</span></pre></td></tr><tr><td data-num="13"></td><td><pre>ui<span class="token operator">-></span>listWidget_2<span class="token operator">-></span><span class="token function">addItems</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过 QStringList 形式添加</span></pre></td></tr></table></figure><h3 id="tree-widget"><a class="anchor" href="#tree-widget">#</a> Tree Widget</h3><blockquote><p>树形结构</p></blockquote><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbsMW39IOCFlyaIVRyBjA9Z0xKdEMnCs0faj9RPn15qR81MMoickrWA2GbKmyzmic8zPSI8GN55jZ2iag/640?wx_fmt=png" alt="树形结构" title="树形结构"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//QStringList list;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">//list &lt;&lt; "Name" &lt;&lt; "Address";</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//ui->treeWidget->setHeaderLabels(list);</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 设置树的头标题</span></pre></td></tr><tr><td data-num="5"></td><td><pre>ui<span class="token operator">-></span>treeWidget<span class="token operator">-></span><span class="token function">setHeaderLabels</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Name"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Address"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 为树添加顶部的栏目</span></pre></td></tr><tr><td data-num="7"></td><td><pre>QTreeWidgetItem <span class="token operator">*</span>treeitem1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token string">"Bookmarks Toolbar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>ui<span class="token operator">-></span>treeWidget<span class="token operator">-></span><span class="token function">addTopLevelItem</span><span class="token punctuation">(</span>treeitem1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>QTreeWidgetItem <span class="token operator">*</span>treeitem2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token string">"Bookmark Menu"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>ui<span class="token operator">-></span>treeWidget<span class="token operator">-></span><span class="token function">addTopLevelItem</span><span class="token punctuation">(</span>treeitem2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 为顶部栏目设置图标</span></pre></td></tr><tr><td data-num="12"></td><td><pre>treeitem1<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/Images/Image/folder.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>treeitem2<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/Images/Image/folder.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 为顶部 tree 设置孩子</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 第一个数据为 Name，第二个为 Address</span></pre></td></tr><tr><td data-num="16"></td><td><pre>QTreeWidgetItem <span class="token operator">*</span>childitem1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"QWidget"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Page10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>treeitem1<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>childitem1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将此添加到列表当中</span></pre></td></tr><tr><td data-num="18"></td><td><pre>QTreeWidgetItem <span class="token operator">*</span>childitem2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"QMainWindow"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Page20"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>treeitem1<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>childitem2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>QTreeWidgetItem <span class="token operator">*</span>childitem3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"QPushButton"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Page30"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>treeitem2<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>childitem3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>QTreeWidgetItem <span class="token operator">*</span>childitem4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"QLabel"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Page40"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>treeitem2<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>childitem4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="table"><a class="anchor" href="#table">#</a> Table</h3><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbsMW39IOCFlyaIVRyBjA9Z0FA1Uz6T96lHWibM5OSNnJWFpAV5fNv9jszDDZPRfqs7ExmTBWNQbGRQ/640?wx_fmt=png" alt="Table " title="Table"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setColumnCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加列</span></pre></td></tr><tr><td data-num="2"></td><td><pre>ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setRowCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加行</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 增加顶部标题</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setHorizontalHeaderLabels</span><span class="token punctuation">(</span><span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"name"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"sex"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//ui->tableWidget->setItem(0, 0, new QTableWidgetItem("Rick"));</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 设置信息列表</span></pre></td></tr><tr><td data-num="8"></td><td><pre>QStringList NameList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>NameList <span class="token operator">&lt;&lt;</span> <span class="token string">"Rick"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Jack"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Michael"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>QStringList SexList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>SexList <span class="token operator">&lt;&lt;</span> <span class="token string">"Male"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Male"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Male"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 将数据加入到 Table 中</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> row<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">int</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>NameList<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>SexList<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//int --> string</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="input-widgets"><a class="anchor" href="#input-widgets">#</a> Input Widgets</h2><ul><li><code>comboBox</code> 下拉列表</li></ul><p><img data-src="https://mmbiz.qpic.cn/mmbiz_png/ORog4TEnkbsMW39IOCFlyaIVRyBjA9Z07ZWLnLxciajibwSH0hTpyqPrxpZWzXMsTnkiaj6BdRgjbeg4KlQpicIKTQ/640?wx_fmt=png" alt="combox" title="combox"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"博士"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"硕士"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"本科"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"专科"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"高中及以下"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li><code>Font combox</code> 字体下拉栏</li><li><code>Line Edit</code> 一行</li><li><code>text Edit</code> 可改变格式</li><li><code>Plain Text Edit</code> ：只能写</li><li><code>SpinBox</code> 数字增加减少</li><li><code>Date Edit</code> 日期</li><li><code>Time Edit</code> 事件</li><li><code>Date/Time Edit</code> 日期时间</li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 获取当前时间</span></pre></td></tr><tr><td data-num="2"></td><td><pre>QDateTime curDateTime <span class="token operator">=</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>ui<span class="token operator">-></span>timeEdit<span class="token operator">-></span><span class="token function">setTime</span><span class="token punctuation">(</span>curDateTime<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ui<span class="token operator">-></span>dateTimeEdit<span class="token operator">-></span><span class="token function">setDateTime</span><span class="token punctuation">(</span>curDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="label"><a class="anchor" href="#label">#</a> Label</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 设置文字</span></pre></td></tr><tr><td data-num="2"></td><td><pre>ui<span class="token operator">-></span>label<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"I love you Rick!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 设置图片，QPixmap</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ui<span class="token operator">-></span>label_2<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">":/Image/Image/1.jpeg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 使使用尺寸，覆盖全屏</span></pre></td></tr><tr><td data-num="6"></td><td><pre>ui<span class="token operator">-></span>label_2<span class="token operator">-></span><span class="token function">setScaledContents</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 显示未 gif</span></pre></td></tr><tr><td data-num="8"></td><td><pre>QMovie <span class="token operator">*</span>mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMovie</span><span class="token punctuation">(</span><span class="token string">":/Image/Image/2.gif"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 显示 MV</span></pre></td></tr><tr><td data-num="10"></td><td><pre>ui<span class="token operator">-></span>label_3<span class="token operator">-></span><span class="token function">setMovie</span><span class="token punctuation">(</span>mv<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 适应磁村</span></pre></td></tr><tr><td data-num="12"></td><td><pre>ui<span class="token operator">-></span>label_3<span class="token operator">-></span><span class="token function">setScaledContents</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 呈现图片</span></pre></td></tr><tr><td data-num="14"></td><td><pre>mv<span class="token operator">-></span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h1 id="容器"><a class="anchor" href="#容器">#</a> 容器</h1><h2 id="group-box"><a class="anchor" href="#group-box">#</a> Group Box</h2><blockquote><p>在窗口的左上可添加 <code>文字说明</code></p></blockquote><ul><li><code>title</code> : 组框的 <code>标题</code></li><li><code>Alignment</code> : 标题的对齐方式，</li><li><code>flat</code> ：设置组框的绘制方式</li><li><code>checkable</code> ：设置是否可以给组框添加 <code>复选框</code></li><li><code>checked</code> ：设置添加的复选框的 ``选择状态`</li></ul><h2 id="scroll-area"><a class="anchor" href="#scroll-area">#</a> Scroll Area</h2><blockquote><p>若 <code>子窗口</code> 的区域 <code>超过</code> 了会生成 <code>向下/左右的滚动条</code></p><ul><li>``widgetResizable <code>：是否</code> 自动调整 ` 滚动区域内部窗口大小</li><li><code>alignment</code> : 对齐方式</li></ul></blockquote><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>MainWindow<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">// 创建一个垂直布局对象</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    QVBoxLayout<span class="token operator">*</span> vlayout <span class="token operator">=</span> <span class="token keyword">new</span> QVBoxLayout<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">11</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">// 创建标签对象</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        QLabel<span class="token operator">*</span> pic <span class="token operator">=</span> <span class="token keyword">new</span> QLabel<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token comment">// 拼接图片在资源文件中的路径</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        QString name <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">":/images/%1.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">// 给标签对象设置显示的图片</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        pic<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token comment">// 设置图片在便签内部的对其方式</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        pic<span class="token operator">-></span><span class="token function">setAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token comment">// 将标签添加到垂直布局中</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        vlayout<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>pic<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token comment">// 创建一个窗口对象</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    QWidget<span class="token operator">*</span> wg <span class="token operator">=</span> <span class="token keyword">new</span> QWidget<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token comment">// 将垂直布局设置给窗口对象</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    wg<span class="token operator">-></span><span class="token function">setLayout</span><span class="token punctuation">(</span>vlayout<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token comment">// 将带有垂直布局的窗口设置到滚动区域中</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    ui<span class="token operator">-></span>scrollArea<span class="token operator">-></span><span class="token function">setWidget</span><span class="token punctuation">(</span>wg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="tool-box"><a class="anchor" href="#tool-box">#</a> Tool Box</h2><blockquote><p><code>工具盒子</code> ，分为 <code>很多层</code> ，每一层都 <code>对应一个窗口</code> ，通过 <code>Page页面</code> 切换不同层的窗口</p></blockquote><ul><li><code>currentIndex</code> : 工具向中当前选项卡对应的 <code>索引</code> ，从 ``0` 开始</li><li><code>currentItemText</code> ：工具箱中当前选项卡上 <code>显示的标题</code></li><li><code>curentItemName</code> ：当前选项卡对应的子窗口的 ``objectName`</li><li><code>currentItemIcon</code> ：当前选项卡显示的 <code>图标</code></li><li><code>currentItemToolTi</code> p：当前选项卡显示的 ``提示信息`</li><li><code>tabSpacing</code> : 工具箱中窗口折叠后，选项卡之间的 ``间隙`</li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 信号</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 工具箱中当前显示的选项卡发生变化，该信号被发射，index 为当前显示的新的选项卡的对应的索引</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>signal<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QToolBox</span><span class="token double-colon punctuation">::</span><span class="token function">currentChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 槽函数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 通过工具箱中选项卡对应的索引设置当前要显示哪一个选项卡中的子窗口</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">[</span>slot<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QToolBox</span><span class="token double-colon punctuation">::</span><span class="token function">setCurrentIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 通过工具箱中选项卡对应的子窗口对象设置当前要显示哪一个选项卡中的子窗口</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>slot<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QToolBox</span><span class="token double-colon punctuation">::</span><span class="token function">setCurrentWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="tab-widget"><a class="anchor" href="#tab-widget">#</a> Tab Widget</h2><blockquote><p>带标签页的窗口，通过标签 ``切换窗口`</p></blockquote><ul><li><code>tabPosition</code> ：标签在窗口中的位置</li><li><code>tabShape</code> ：标签的形状</li><li><code>currentIndedx</code> : 当前选中的标签对应的索引</li><li><code>iconSize</code> : 标签上显示的图标大小</li><li><code>elideMode</code> : 标签上的文本信息省略方式</li><li><code>usersSctollButtons</code> ：标签太多时，是否添加滚动按钮</li><li><code>documentMode</code> ：文档模式是否开启，如果开启窗口边框 ``会被去掉`</li><li><code>tabsClosable</code> ：标签页上是否添加关 <code>闭按钮</code></li><li><code>movable</code> : 标签页是够可以移动</li><li><code>tabBarAuoHide</code> : 当标签 <code>&lt;2</code> 时，标签栏是否自动隐藏</li><li><code>currentTabText</code> : 当前标签上显示的文本信息</li><li><code>currentTabName</code> ：当前标签对应的窗口的 objectName</li><li><code>currentTabIcon</code> ：当前标签上显示的图标</li><li><code>currentTabToolTip</code> ：当前标签的 <code>提示信息</code></li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 信号</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 每当当前页索引改变时，就会发出这个信号。参数是新的当前页索引位置，如果没有新的索引位置，则为 - 1</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>signal<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QTabWidget</span><span class="token double-colon punctuation">::</span><span class="token function">currentChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 当用户单击索引处的选项卡时，就会发出这个信号。index 指所单击的选项卡，如果光标下没有选项卡，则为 - 1。</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>signal<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QTabWidget</span><span class="token double-colon punctuation">::</span><span class="token function">tabBarClicked</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 当用户双击索引上的一个选项卡时，就会发出这个信号。</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//index 是单击的选项卡的索引，如果光标下没有选项卡，则为 - 1。</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">[</span>signal<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QTabWidget</span><span class="token double-colon punctuation">::</span><span class="token function">tabBarDoubleClicked</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 此信号在单击选项卡上的 close 按钮时发出。索引是应该被删除的索引。 	</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>signal<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QTabWidget</span><span class="token double-colon punctuation">::</span><span class="token function">tabCloseRequested</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 槽函数</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 设置当前窗口中显示选项卡 index 位置对应的标签页内容</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">[</span>slot<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QTabWidget</span><span class="token double-colon punctuation">::</span><span class="token function">setCurrentIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 设置当前窗口中显示选项卡中子窗口 widget 中的内容</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">[</span>slot<span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token class-name">QTabWidget</span><span class="token double-colon punctuation">::</span><span class="token function">setCurrentWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// mainwindow.cpp</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">MainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>MainWindow<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// 点击了标签上的关闭按钮</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>tabWidget<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTabWidget<span class="token double-colon punctuation">::</span>tabCloseRequested<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token comment">// 保存信息</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">// 将点击关闭的 tabwidget 以及标题保存到 enqueue 队列当中，方便添加时调用</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        QWidget<span class="token operator">*</span> wg <span class="token operator">=</span> ui<span class="token operator">-></span>tabWidget<span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        QString title <span class="token operator">=</span> ui<span class="token operator">-></span>tabWidget<span class="token operator">-></span><span class="token function">tabText</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        m_widgets<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>wg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        m_names<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">// 移除 tab 页</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        ui<span class="token operator">-></span>tabWidget<span class="token operator">-></span><span class="token function">removeTab</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token comment">// 设置当前窗体可用</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        ui<span class="token operator">-></span>addBtn<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token comment">// 当标签被点击了之后的处理动作</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>tabWidget<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTabWidget<span class="token double-colon punctuation">::</span>tabBarClicked<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"我被点击了一下, 我的标题是: "</span> <span class="token operator">&lt;&lt;</span> ui<span class="token operator">-></span>tabWidget<span class="token operator">-></span><span class="token function">tabText</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token comment">// 切换标签之后的处理动作</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>tabWidget<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTabWidget<span class="token double-colon punctuation">::</span>currentChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"当前显示的tab页, 我的标题是: "</span> <span class="token operator">&lt;&lt;</span> ui<span class="token operator">-></span>tabWidget<span class="token operator">-></span><span class="token function">tabText</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token comment">// 点击添加标签按钮点击之后的处理动作</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>addBtn<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QPushButton<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token comment">// 将被删除的标签页添加到窗口中</span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token comment">// 1. 知道窗口对象，窗口的标题</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token comment">// 2. 知道添加函数</span></pre></td></tr><tr><td data-num="42"></td><td><pre>        ui<span class="token operator">-></span>tabWidget<span class="token operator">-></span><span class="token function">addTab</span><span class="token punctuation">(</span>m_widgets<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m_names<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 从队列中取出数据</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token comment">// 如果队列为空</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span>m_widgets<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>        	<span class="token comment">// 按钮不可用</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            ui<span class="token operator">-></span>addBtn<span class="token operator">-></span><span class="token function">setDisabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="stacked-widget"><a class="anchor" href="#stacked-widget">#</a> Stacked Widget</h2><blockquote><p>一个栈窗口，也是分为不同页面，但是页面切换需要借助外界的控件进行间接切换栈窗口</p></blockquote><h2 id="widget"><a class="anchor" href="#widget">#</a> Widget</h2><blockquote><p>Qt 最简单的窗口，Frame 内嵌到窗口 里是可以带边框的，而 Widget 是不带边框的</p></blockquote><ul><li>enabled: 窗口能否使用，关闭窗口就不能使用</li><li>geometry: 当前窗口相当于其父窗口所在的位置和宽度高度</li><li>sizePolicy：当前窗口的尺寸策略（尺寸策略生效，必须父窗口进行布局)<ul><li>Fixed ： 大小固定，不随父窗口进行变化</li><li>Minimun: 默认最小状态显示，父窗口变化，子窗口也会随着变化</li><li>Maximum：默认以最大状态显示，但也会随着父窗口变化而变化</li><li>Perfered: 同时拥有 Minimum 和 Maximum，窗口可以增长和缩放，默认会一一个合适大小显示，默认。</li><li>Expanding: 具有延展属性，可以侵略相邻窗口的空间</li><li>MinimumExpanding : 默认可以延伸，也可以侵略其它窗体控件</li></ul></li><li>minimumSize：当前窗口的最小尺寸</li><li>maximumSize: 当前窗口的最大尺寸</li><li>sizeIncrement: 当窗口大小发生变化之后，子窗口相对于父窗口位移如何进行计算</li><li>font：窗口字体</li><li>cursor: 当前窗口的光标显示</li><li>mouseTracing：设置窗口是否追踪鼠标移动事件</li><li>TableTracking : 设置窗口是否追踪鼠标移动事件</li><li>focusPolicy：设置窗口焦点策略</li><li>contextMenuPolicy：设置窗口右键菜单策略</li><li>toolTip：鼠标在窗口一定时间，进行提示</li><li>toolTipDuration：设置窗口提示信息持续时长，单位毫秒</li><li>styleSheet : 给窗口设置样式表，进行窗口美化，帮助文档有默认文档</li></ul><h4 id="frame"><a class="anchor" href="#frame">#</a> Frame</h4><blockquote><p>Qt 最 <code>简单</code> 的窗口，Frame`` 内嵌到窗口 <code>里是可以</code> 带边框的 `，而 Widget 是不带边框的</p></blockquote><ul><li><code>frameShape</code> ：设置 <code>表框的形状</code></li><li><code>frameshadow</code> : 窗口 <code>阴影形式</code><ul><li><code>QFrame::Plain</code> : <code>简单的,朴素的, 框架和内容与周围环境显得水平;</code><br>使用调色板绘制 QPalette::WindowText 颜色 (没有任何 3D 效果)</li><li><code>QFrame::Raised</code> : 框架和内容出现凸起；使用当前颜色组的明暗颜色绘制 3D 凸起线</li><li><code>QFrame::Sunken</code> : 框架及内容物凹陷；使用当前颜色组的明暗颜色绘制 3D 凹线</li></ul></li><li><code>lineWidth</code> : 线条的 <code>宽度</code> ，默认值为 <code>1</code></li><li><code>midLineWidth</code> ：设置 <code>中线宽度</code> ，主要 <code>控制阴影</code> ，默认值为 <code>0</code><br><img data-src="https://mmbiz.qpic.cn/mmbiz_jpg/ORog4TEnkbtm3eiby0Hvabx3icLibZMIK2KicibxbT4JUNYOFYkKibX4AgB3XjeqKzaXjC7Kw7S8icNj5BvibsxfiaePbLw/640?wx_fmt=jpeg" alt="设置图" title="Frame设置图"></li></ul><h4 id="其它"><a class="anchor" href="#其它">#</a> 其它</h4><ul><li><code>MDI Area</code> ：``多文档区域容器`</li><li><code>Dock Widget</code> : <code>停靠窗口容器</code></li><li><code>QAxWidgeet</code> ： <code>Active插件</code></li></ul><div class="tags"><a href="/tags/C/" rel="tag"><i class="ic i-tag"></i>C++</a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" rel="tag"><i class="ic i-tag"></i>计算机科学</a><a href="/tags/Qt/" rel="tag"><i class="ic i-tag"></i>Qt</a></div></div><footer><div class="meta"><span class="icon"><i class="ic i-eye"></i></span><span>此文章已被阅读次数:</span><span class="waline-pageview-count" id="twikoo_visitors" data-path="computer-science/cpp/course-5/Qt窗口与控件/">正在加载...</span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2023-06-03 21:58:20" itemprop="dateModified" datetime="2023-06-03T21:58:20+08:00">2023-06-03</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/assets/wechatpay.png" alt="YuHeShui 微信支付"><p>微信支付</p></div><div><img data-src="/assets/alipay.png" alt="YuHeShui 支付宝"><p>支付宝</p></div><div><img data-src="/assets/paypal.png" alt="YuHeShui 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>YuHeShui<i class="ic i-at"><em>@</em></i>瓶子的跋涉</li><li class="link"><strong>本文链接：</strong><a href="https://www.blog.foryouos.cn/computer-science/cpp/course-5/Qt%E7%AA%97%E5%8F%A3%E4%B8%8E%E6%8E%A7%E4%BB%B6/" title="Qt窗口与控件">https://www.blog.foryouos.cn/computer-science/cpp/course-5/Qt窗口与控件/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener external nofollow noreferrer" target="_blank"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/cpp/course-5/Qt%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;i.imgtg.com&#x2F;2023&#x2F;05&#x2F;27&#x2F;OoNPuI.jpg" title="Qt信号与槽"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>Qt</span><h3>Qt信号与槽</h3></a></div><div class="item right"><a href="/computer-science/cpp/course-5/Qt%E4%BA%8B%E4%BB%B6/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;i.imgtg.com&#x2F;2023&#x2F;06&#x2F;14&#x2F;OBVr9B.jpg" title="Qt事件"><span class="type">下一篇</span><span class="category"><i class="ic i-flag"></i>Qt</span><h3>Qt事件</h3></a></div></div><div class="wrap" id="wcomments"></div><script type="module" data-pjax="data-pjax">import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';

setTimeout(function () {
    init({
        el: '#wcomments',
        serverURL: 'https://foryouos.netlify.app/.netlify/functions/comment',
        lang: 'zh-CN',
        locale: {},
        emoji: ["https://unpkg.com/@waline/emojis@1.0.1/weibo","https://unpkg.com/@waline/emojis@1.0.1/alus","https://unpkg.com/@waline/emojis@1.0.1/bilibili","https://unpkg.com/@waline/emojis@1.0.1/qq","https://unpkg.com/@waline/emojis@1.0.1/tieba","https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"],
        meta: ["nick","mail","link"],
        requiredMeta: ["nick","mail"],
        wordLimit: 0,
        pageSize: 10,
        pageview: true,
        path: window.location.pathname,
        dark: 'html[data-theme="dark"]'
    });
}, 1000)</script></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#qwidget"><span class="toc-number">1.</span> <span class="toc-text">QWidget</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81"><span class="toc-number">1.1.</span> <span class="toc-text">常见</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-%E8%AE%B0%E5%BF%86"><span class="toc-number">1.2.</span> <span class="toc-text">代码 实现 记忆</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mainwindow"><span class="toc-number">1.2.1.</span> <span class="toc-text">mainwindow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mydialog"><span class="toc-number">1.2.2.</span> <span class="toc-text">mydialog</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E9%92%AE"><span class="toc-number">1.3.1.</span> <span class="toc-text">按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.3.2.</span> <span class="toc-text">练习学习</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ui"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">UI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mainwindowh"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">mainwindow.h</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mainwindowcpp"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">mainwindow.cpp</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">2.</span> <span class="toc-text">补充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-number">2.1.</span> <span class="toc-text">使用函数指针调用函数重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E7%AA%97%E5%8F%A3"><span class="toc-number">2.2.</span> <span class="toc-text">代码实现窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3%E6%B7%BB%E5%8A%A0icon"><span class="toc-number">2.3.</span> <span class="toc-text">窗口添加 ICON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%80%81%E4%B8%8E%E9%87%8A%E6%94%BE%E7%A9%BA%E9%97%B4"><span class="toc-number">2.4.</span> <span class="toc-text">模态与释放空间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">2.5.</span> <span class="toc-text">错误对话框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E5%AF%BC%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">2.6.</span> <span class="toc-text">向导对话框</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6-2"><span class="toc-number">3.</span> <span class="toc-text">控件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#item"><span class="toc-number">3.1.</span> <span class="toc-text">Item</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#list-widget"><span class="toc-number">3.1.1.</span> <span class="toc-text">list Widget</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tree-widget"><span class="toc-number">3.1.2.</span> <span class="toc-text">Tree Widget</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#table"><span class="toc-number">3.1.3.</span> <span class="toc-text">Table</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#input-widgets"><span class="toc-number">3.2.</span> <span class="toc-text">Input Widgets</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#label"><span class="toc-number">3.3.</span> <span class="toc-text">Label</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">容器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#group-box"><span class="toc-number">4.1.</span> <span class="toc-text">Group Box</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#scroll-area"><span class="toc-number">4.2.</span> <span class="toc-text">Scroll Area</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tool-box"><span class="toc-number">4.3.</span> <span class="toc-text">Tool Box</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tab-widget"><span class="toc-number">4.4.</span> <span class="toc-text">Tab Widget</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#stacked-widget"><span class="toc-number">4.5.</span> <span class="toc-text">Stacked Widget</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#widget"><span class="toc-number">4.6.</span> <span class="toc-text">Widget</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#frame"><span class="toc-number">4.6.0.1.</span> <span class="toc-text">Frame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83"><span class="toc-number">4.6.0.2.</span> <span class="toc-text">其它</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/computer-science/cpp/course-5/Qt%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="bookmark" title="Qt多线程">Qt多线程</a></li><li><a href="/computer-science/cpp/course-5/Qt%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/" rel="bookmark" title="Qt基础入门">Qt基础入门</a></li><li><a href="/computer-science/cpp/course-5/Qt%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/" rel="bookmark" title="Qt信号与槽">Qt信号与槽</a></li><li class="active"><a href="/computer-science/cpp/course-5/Qt%E7%AA%97%E5%8F%A3%E4%B8%8E%E6%8E%A7%E4%BB%B6/" rel="bookmark" title="Qt窗口与控件">Qt窗口与控件</a></li><li><a href="/computer-science/cpp/course-5/Qt%E4%BA%8B%E4%BB%B6/" rel="bookmark" title="Qt事件">Qt事件</a></li><li><a href="/computer-science/cpp/course-5/Qt%E5%AE%9E%E7%8E%B0%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1/" rel="bookmark" title="Qt实现串口通信">Qt实现串口通信</a></li><li><a href="/computer-science/cpp/course-5/Qt%E5%A5%97%E6%8E%A5%E5%AD%97%E9%80%9A%E4%BF%A1/" rel="bookmark" title="Qt套接字通信">Qt套接字通信</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="YuHeShui" data-src="/assets/avatar.jpg"><p class="name" itemprop="name">YuHeShui</p><div class="description" itemprop="description">瓶子的跋涉 & 编程笔记</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">64</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">16</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">35</span><span class="name">标签</span></a></div></nav><div class="social"><a href="https://github.com/foryouos" class="item github" rel="noopener external nofollow noreferrer" title="https:&#x2F;&#x2F;github.com&#x2F;foryouos" target="_blank"><i class="ic i-github"></i></a><a href="https://www.zhihu.com/people/foryouos" class="item zhihu" rel="noopener external nofollow noreferrer" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;foryouos" target="_blank"><i class="ic i-zhihu"></i></a><a href="mailto:foryouos@mail.com" class="item email" rel="noopener external nofollow noreferrer" title="mailto:foryouos@mail.com" target="_blank"><i class="ic i-envelope"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-user"></i>外链</a><ul class="submenu"><li class="item"><a href="https://www.foryouos.cn/" rel="noopener external nofollow noreferrer" target="_blank"><i class="ic i-user"></i>主页</a></li><li class="item"><a href="https://www.so.foryouos.cn/" rel="noopener external nofollow noreferrer" target="_blank"><i class="ic i-magic"></i>搜索</a></li><li class="item"><a href="https://imgtg.com/foryouos" rel="noopener external nofollow noreferrer" target="_blank"><i class="ic i-coffee"></i>图库</a></li></ul></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/cpp/course-5/Qt%E4%BA%8B%E4%BB%B6/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/cpp/course-5/Qt%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-1/" title="分类于郑莉老师C++语言程序设计">郑莉老师C++语言程序设计</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-1/cpp%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB%E4%B8%8E%E4%BF%9D%E6%8A%A4/">C++数据共享与保护</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-6/" title="分类于零声笔记">零声笔记</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-6/B%E6%A0%91/">B树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-1/" title="分类于郑莉老师C++语言程序设计">郑莉老师C++语言程序设计</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-1/cpp%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%AD%97%E7%AC%A6%E4%B8%B2/">C++数组指针字符串</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/Linux/" title="分类于Linux">Linux</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/Linux/cmake/">Cmake笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-1/" title="分类于郑莉老师C++语言程序设计">郑莉老师C++语言程序设计</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-1/cpp%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF/">C++类的继承</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/Linux/" title="分类于Linux">Linux</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/Linux/Linux%E4%BF%A1%E5%8F%B7/">linux信号</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-4/" title="分类于C和C++项目">C和C++项目</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-4/C%E5%91%98%E5%B7%A5%E5%B7%A5%E8%B5%84%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">C实现员工工资管理系统</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-2/" title="分类于汇编与STl新特征">汇编与STl新特征</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-2/%E6%8E%92%E5%BA%8F/">排序算法C++</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/" title="分类于C++">C++</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/cpp/course-6/" title="分类于零声笔记">零声笔记</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/cpp/course-6/Hash/">Hash</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于计算机科学">计算机科学</a><i class="ic i-angle-right"></i><a href="/categories/computer-science/Git/" title="分类于Git分布式版本控制">Git分布式版本控制</a><i class="ic i-angle-right"></i></div><span><a href="/computer-science/Git/Git%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95/">Git使用语法</a></span></li></ul></div><div class="rpost pjax"><h2>最新评论</h2><ul class="leancloud-recent-comment" id="new-comment"><li class="item" v-for="com in coms"><a v-bind:href="root + com.href" data-pjax-state="data-pjax-state"><span class="breadcrumb">{{com.nick}} @ {{com.time}}</span><span>{{com.text}}<br></span></a></li></ul></div></div><div class="status"><div class="copyright">&copy; 2022 -<span itemprop="copyrightYear">2023</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">YuHeShui @ foryouos</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">710k 字</span><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">10:45</span></div><div class="powered-by">基于 <a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & Theme.<a href="https://github.com/theme-shoka-x/hexo-theme-shokaX/" rel="noopener external nofollow noreferrer" target="_blank">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/cpp/course-5/Qt窗口与控件/",favicon:{show:"不负韶华",hide:"以梦为马！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,chart:!1,copy_tex:!1,katex:!1,mermaid:!1,audio:"",fancybox:!0,nocopy:!1,outime:!0,template:"&lt;div class=&quot;note warning&quot;&gt;&lt;p&gt;&lt;span class=&quot;label warning&quot;&gt;文章时效性提示&lt;/span&gt;&lt;br&gt;这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。&lt;/p&gt;&lt;/div&gt;",quiz:{choice:"单选题",multiple:"多选题",true_false:"判断题",essay:"问答题",gap_fill:"填空题",mistake:"错题备注"},ignores:[t=>t.includes("#"),t=>new RegExp(LOCAL.path+"$").test(t),[]]}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default,fetch"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.0.2/pace.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/instantsearch.js/4.39.0/instantsearch.production.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/quicklink/2.2.0/quicklink.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/??jquery/3.5.1/jquery.min.js,fancybox/3.5.7/jquery.fancybox.min.js,justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" async></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/KaTeX/0.12.0/contrib/copy-tex.min.js" async></script><script src="https://unpkg.com/theme-shokax-pjax@latest/pjax.shokax.min.js"></script><script src="https://unpkg.com/theme-shokax-anime@latest/anime.shokax.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/lozad.js/1.16.0/lozad.min.js"></script><script src="https://unpkg.com/frappe-charts@1.5.0/dist/frappe-charts.min.iife.js"></script><script src="/js/app.js?v=0.3.3"></script><script data-pjax="data-pjax">var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?e3ba29befb93fdf32bbc553d0e5bee92",e.async=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script type="module" data-pjax>let items = []
        import { RecentComments } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs'
        RecentComments({
          serverURL: 'https://foryouos.netlify.app/.netlify/functions/comment',
          count: 10,
        }).then(({ comments }) => {
          comments.forEach(function (item) {
              let cText = (item.orig.length > 50) ? item.orig.substring(0,50)+'...' : item.orig
              item.url = item.url !== '/' ?  '/' + item.url : item.url;
              const siteLink = item.url + "#" + item.objectId
              items.push({
                  href: siteLink,
                  nick: item.nick,
                  time: item.insertedAt.split('T').shift(),
                  text: cText
              })
          })
          Vue.createApp({
            data() {
                return {
                    coms: items,
                    root: ''
                }
            }
          }).mount('#new-comment')
        }).catch(function (err) {
          console.error(err)
        })</script></body></html><!-- rebuild by hexo-renderer-multi-next-markdown-it -->